<template>
  <div id="chart" ref="el">
  </div>
</template>

<script setup>

import Plotly from "plotly.js-dist-min";
import {onMounted, ref} from "vue";

const trace1 = {
  x: [-4.699, -10.99, -10.291, -9.592, -8.893, -8.194, -7.495, -6.796, -6.097, -5.398, -4.699, -10.99, -10.291, -9.592, -8.893, -8.194, -7.495, -6.796, -6.097, -5.398],
  y: [35.11198945981555, -14.42687747035573, -11.989459815546773, -17.32542819499341, -19.499341238471672, -6.258234519104085, -17.061923583662715, -21.409749670619235, 7.114624505928854, 46.9038208168643, 36.18157543391188, -15.7543391188251, -13.951935914552738, -15.220293724966622, -16.889185580774367, -13.618157543391188, -17.022696929238982, -13.75166889185581, -4.339118825100133, 54.00534045393859],
  mode: 'markers',
  marker: {
    color: 'rgb(219, 64, 82)',
    size: 12
  }
};

// const temp2 = [-4.6,-4.8,-5.0,-5.2,-5.4,-5.7,-5.9,-6.1,-6.3,-6.5,-6.7,-7.0,-7.2,-7.4,-7.6,-7.8,-8.0,-8.3,-8.5,-8.7,-8.9,-9.1,-9.4,-9.6,-9.8,-10.0,-10.2,-10.4,-10.7,-10.9,-11.1,-11.3]
// let reversed2 = []
// for (let i = temp2.length - 1; i >= 0; i--) {
//   reversed2.push(temp2[i])
// }

const temp = [4.298962e+01, 4.298962e+01, 4.298962e+01,4.298962e+01,4.298962e+01, 4.298962e+01, 4.298962e+01, 4.298962e+01,4.298960e+01,4.298954e+01, 4.298934e+01, 4.298862e+01, 4.298603e+01,4.297673e+01,4.294337e+01, 4.282402e+01, 4.240095e+01, 4.094862e+01,3.646461e+01,2.617465e+01, 1.300222e+01, 4.632529e+00, 1.399138e+00,3.990924e-01,1.119144e-01, 3.123175e-02, 8.703983e-03, 2.424797e-03,6.754405e-04,1.881421e-04, 5.240604e-05, 1.459741e-05, 4.066022e-06,1.132567e-06,3.154697e-07, 8.787224e-08, 2.447629e-08, 6.817727e-09,1.899038e-09,5.289658e-10, 1.473403e-10, 4.104077e-11, 1.143166e-11,3.184223e-12,8.869465e-13, 2.470537e-13, 6.881535e-14, 1.916811e-14,5.339164e-15,1.487193e-15, 4.142488e-16, 1.153866e-16, 3.214024e-17,8.952475e-18,2.493659e-18, 6.945941e-19, 1.934751e-19, 5.389134e-20,1.501112e-20,4.181258e-21, 1.164665e-21, 3.244105e-22, 9.036263e-23,2.516998e-23,7.010949e-24, 1.952858e-24, 5.439572e-25, 1.515161e-25,4.220391e-26,1.175565e-26, 3.274467e-27, 9.120834e-28, 2.540555e-28,7.076565e-29,1.971136e-29, 5.490482e-30, 1.529341e-30, 4.259890e-31,1.186567e-31,3.305113e-32, 9.206198e-33, 2.564332e-33, 7.142796e-34,1.989584e-34,5.541868e-35, 1.543655e-35, 4.299759e-36, 1.197673e-36,3.336046e-37,9.292360e-38, 2.588332e-38, 7.209646e-39, 2.008204e-39,5.593735e-40,1.558102e-40, 4.340001e-41, 1.208882e-41, 3.367269e-42,9.379328e-43,2.612557e-43]
let reversed = []
for (let i = temp.length - 1; i >= 0; i--) {
  reversed.push(temp[i])
}

const dose = [10.81985,10.96617,11.11248,11.25880,11.40512,11.55144,11.69776,11.84408,11.99040,12.13672,12.28304,12.42935,12.57567,12.72199,12.86831,13.01463,13.16095,13.30727,13.45359,13.59990,13.74622,13.89254,14.03886,14.18518,14.33150,14.47782,14.62414,14.77046,14.91677,15.06309,15.20941,15.35573,15.50205,15.64837,15.79469,15.94101,16.08732,16.23364,16.37996,16.52628,16.67260,16.81892,16.96524,17.11156,17.25788,17.40419,17.55051,17.69683,17.84315,17.98947,18.13579,18.28211,18.42843,18.57474,18.72106,18.86738,19.01370,19.16002,19.30634,19.45266,19.59898,19.74530,19.89161,20.03793,20.18425,20.33057,20.47689,20.62321,20.76953,20.91585,21.06216,21.20848,21.35480,21.50112,21.64744,21.79376,21.94008,22.08640,22.23272,22.37903,22.52535,22.67167,22.81799,22.96431,23.11063,23.25695,23.40327,23.54958,23.69590,23.84222,23.98854,24.13486,24.28118,24.42750,24.57382,24.72013,24.86645,25.01277,25.15909,25.30541]
let convert = []
for (let i = 0; i < dose.length; i++)
  convert.push(-dose[i] / 2.303)

const trace2 = {
  x: convert,
  y: temp,
  mode: 'lines',
  line: {shape: 'spline'},
};

const data = [trace1, trace2];

var layout = {
  legend: {
    yref: 'paper'
  }};

const el = ref()

onMounted(() => {
  Plotly.newPlot(el.value, data, layout);
})

</script>
